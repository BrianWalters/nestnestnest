{{#> base}}
  <div class="flex flex-col items-center gap-2">
    <h1 class="text-4xl">Todo app</h1>

    <h2 class="text-2xl">Add todo</h2>
    <form action="/todo/create" method="post" class="flex flex-col gap-2">
      <label class="flex items-center font-bold gap-2">
        To do:
        <input type="text" name="title" class="border p-1 grow">
      </label>
      <label class="flex items-center font-bold gap-2">
        Description:
        <textarea name="description" class="border p-1"></textarea>
      </label>
      <div class="flex justify-end">
        <button type="submit" class="bg-blue-600 text-white rounded p-3">Submit</button>
      </div>
    </form>

    <h2 class="text-2xl">Todos</h2>
    <ol class="list-decimal grid gap-2">
      {{#each todos }}
        <li class="rounded p-3">
          <div class="flex gap-4">
            <strong class="{{# if done}}text-blue-500{{/if}}">
              {{# if done}}
                âœ…
              {{/if}}
              {{title}}
            </strong>
            {{#unless done}}
              <form action="/todo/done" method="post" class="ml-auto">
                <input type="hidden" name="id" value="{{id}}">
                <button type="submit" class="bg-green-700 text-white rounded p-1">Done</button>
              </form>
            {{/unless}}
          </div>
          {{# if description}}
            <div>{{description}}</div>
          {{/if}}
        </li>
      {{/each}}
    </ol>
  </div>
{{/base}}
